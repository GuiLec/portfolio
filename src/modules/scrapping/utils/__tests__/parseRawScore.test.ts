import { parseRawScore } from "@/modules/scrapping/utils/parseRawScore";

describe("parseRawScore", () => {
  it.each`
    rawScore                | expected
    ${"2h03'47''"}          | ${2 * 100 * 60 * 60 + 3 * 100 * 60 + 47 * 100}
    ${"2h3'47''"}           | ${2 * 100 * 60 * 60 + 3 * 100 * 60 + 47 * 100}
    ${"2h3'47'' (RP)"}      | ${2 * 100 * 60 * 60 + 3 * 100 * 60 + 47 * 100}
    ${"02h03'47''"}         | ${2 * 100 * 60 * 60 + 3 * 100 * 60 + 47 * 100}
    ${"03'47''"}            | ${3 * 100 * 60 + 47 * 100}
    ${"3'47''"}             | ${3 * 100 * 60 + 47 * 100}
    ${"11''04 (+2.0)"}      | ${11 * 100 + 4}
    ${"2h03'47''05 (-1.4)"} | ${2 * 100 * 60 * 60 + 3 * 100 * 60 + 47 * 100 + 5}
    ${"2h04'47'' (+0.3)"}   | ${2 * 100 * 60 * 60 + 4 * 100 * 60 + 47 * 100}
    ${"3504"}               | ${35 * 100 * 60 + 4 * 100}
    ${"3h27'45"}            | ${3 * 100 * 60 * 60 + 27 * 100 * 60 + 45 * 100}
    ${"3h27'45 (RP)"}       | ${3 * 100 * 60 * 60 + 27 * 100 * 60 + 45 * 100}
    ${"1:00:05"}            | ${1 * 100 * 60 * 60 + 0 * 100 * 60 + 5 * 100}
    ${"1:00:05 (RP)"}       | ${1 * 100 * 60 * 60 + 0 * 100 * 60 + 5 * 100}
    ${"01:00:05"}           | ${1 * 100 * 60 * 60 + 0 * 100 * 60 + 5 * 100}
    ${"01:00:05 (RP)"}      | ${1 * 100 * 60 * 60 + 0 * 100 * 60 + 5 * 100}
    ${"37:45 (RP)"}         | ${37 * 100 * 60 + 45 * 100}
    ${"37:45"}              | ${37 * 100 * 60 + 45 * 100}
    ${"9:45"}               | ${9 * 100 * 60 + 45 * 100}
    ${"9:45 (RP)"}          | ${9 * 100 * 60 + 45 * 100}
    ${"09:45"}              | ${9 * 100 * 60 + 45 * 100}
    ${null}                 | ${0}
    ${undefined}            | ${0}
  `(
    "should return $expected when rawScore is $rawScore",
    ({ rawScore, expected }) => {
      expect(parseRawScore(rawScore)).toBe(expected);
    }
  );
});
